function _(a){return document.getElementById(a)}function setMessage(d,e){var c=document.createElement("P");c.setAttribute("class",d);c.innerHTML=e;var a=document.body;a.insertBefore(c,a.firstChild)}function parseLatestApps(){ajax("latestApps.php",function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function parseCategories(){ajax("getCategoryList.php",function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function getAppsByCategory(a){ajax("getCategory.php?getcategory="+a,function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function ajax(b,c){var a;if(window.XMLHttpRequest){a=new XMLHttpRequest()}else{a=new ActiveXObject("Microsoft.XMLHTTP")}a.onreadystatechange=c;a.open("POST",b,true);a.send()}function installApp(b,a){ajax("installApp.php?id="+b,function(){if(this.readyState==4&&this.status==200){var c=JSON.parse(this.responseText);if(c.type=="success"){if(c.message=="Installed"){a.classList.remove("install");a.classList.remove("update");a.classList.add("uninstall");a.innerHTML="Uninstall";a.setAttribute("onclick","uninstallApp("+b+",this);")}else{if(c.message=="Updated"){a.parentNode.removeChild(a)}}setMessage(c.type,c.message)}}})}function uninstallApp(b,a){ajax("uninstallApp.php?id="+b,function(){if(this.readyState==4&&this.status==200){var c=JSON.parse(this.responseText);if(c.type=="success"){a.classList.remove("uninstall");a.classList.add("install");a.innerHTML="Install";a.setAttribute("onclick","installApp("+b+",this);");setMessage(c.type,c.message)}}})}function showInstalledApps(){ajax("installedApps.php",function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function byte_unit_convert(a){var c="";var e=Array(" B"," KB"," MB"," GB"," TB"," PB"," EB"," ZB"," YB");var d=0;if(a<1024){c=a}while(a>=1024&&d<8){d++;a/=1024;c=a}c=Math.floor(c*100)/100;if(d<9){c+=e[d]}return c}function registerApp(){_("resultantcontainer").innerHTML="<form id='xbuild' class='build' method='POST' action=''><table class='full'><tr><td>App Name</td><td> : </td><td><input class='wp' type='name' name='appregname' id='appregname' required placeholder='App Name' autocomplete='off' value='' onkeypress='avail(event);'></td></tr><tr><td colspan='3'><div class='appNameStatus' id='appNameStatus'>Enter App Name to check availability.</div><button type='button' class='greenButton fr' onclick='checkAvailability();'>Check</button></td></tr></table></form>"}function openUploadPopup(){_("uploadpopup").style.display="block";_("uploadpopupbg").style.display="block"}function closeUploadPopup(){_("uploadpopup").style.display="none";_("uploadpopupbg").style.display="none";_("resetAppBuild").click();registerApp()}function validateNewApp(){var a=_("appname").value;if(a==""){setMessage("error","Enter the App Name. . .");return}var c=["\\","/",":","*","?",'"',"<",">","|"];var d=c.length,b=0;while(b<d){if(a.indexOf(c[b])>-1){setMessage("error","Invalid Character Found in the App Name. . .");return}++b}if((_("description").value=="")||(_("keyword1").value=="")||(_("keyword2").value=="")||(_("keyword3").value=="")){setMessage("warning","Adding Description & Keyword helps users find your App easily.");setTimeout(function(){if(confirm("Are you Sure you want to leave these Fields Empty ?")){_("build").submit()}else{return}},3000)}else{_("build").submit()}}function avail(a){if(a.keyCode=="13"){a.preventDefault();checkAvailability()}}function checkAvailability(){var c=_("appregname").value;if(c==""){setMessage("error","Enter the App Name.");return}var b=["\\","/",":","*","?",'"',"<",">","|"];var d=b.length,a=0;while(a<d){if(c.indexOf(b[a])>-1){setMessage("error","Invalid Character Found in the App Name. . .");return}++a}ajax("buildApp.php?appregname="+_("appregname").value,function(){if(this.readyState==4&&this.status==200){var e=JSON.parse(this.responseText);setMessage(e.type,e.message);if(e.a!=""){_("appNameStatus").innerHTML=e.a}if(e.x!=""){_("resultantcontainer").innerHTML=e.x.replace('\\"','"');openUploadPopup()}}})}function ownApps(){ajax("myApps.php",function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function checkforUpdates(){ajax("showUpdates.php",function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function search(a){if(a==""){_("resultantcontainer").innerHTML="";return}ajax("search.php?key="+a,function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function keysearch(b,a){if(b.keyCode=="13"){search(a)}}function requestedApps(){ajax("requestedApp.php",function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function approvedApps(){ajax("approvedApps.php",function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})}function appsInDevelopment(){ajax("appsInDevelopment.php",function(){if(this.readyState==4&&this.status==200){_("resultantcontainer").innerHTML=this.responseText}})};